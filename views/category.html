{{template "common/application.html" .}}

{{define "body"}}
<div class="container">
<h1>Category</h1>

<form method="GET" action="/category">
  <div class="form-group">
    <label>Category Name</label>
    <input id="name" class="form-control" placeholder="Enter name" name="name">
  </div>
  <input type="hidden" name="op" value="add">
  <button type="submit" class="btn btn-default" onclick="return checkInput()">Add</button>
</form>

<script>
function checkInput() {
	var uname = document.getElementById("name");

	if (uname.value.length == 0) {
		alert("Please input your category name");
		return false;
	}

	return true;
}
</script>

<table class="table table-striped">
	<thead>
		<tr>
			<th>#</th>
			<th>name</th>
			<th>count</th>
			<th>actioin</th>
		</tr>
	</thead>
	<tbody>
		{{range .Categories}}
		<tr>
		<th>{{.Id}}</th>
		<th>{{.Title}}</th>
		<th>{{.TopicCount}}</th>
		<th>
			<a href="/category?op=del&id={{.Id}}">Delete</a>
		</th>
		</tr>
		{{end}}
	</tbody>
</table>

</div>
{{end}}
